var windicss=function(t,e,r,s){"use strict";var n="INUMBER",i="IOP1",o="IOP2",a="IOP3",p="IVAR",u="IVARNAME",h="IFUNCALL",c="IFUNDEF",l="IEXPR",f="IEXPREVAL",d="IMEMBER",y="IENDSTATEMENT",v="IARRAY";function g(t,e){this.type=t,this.value=null!=e?e:0}function w(t){return new g(i,t)}function b(t){return new g(o,t)}function x(t){return new g(a,t)}function m(t,e,r,s,h){for(var c,f,y,w=[],b=[],x=0;x<t.length;x++){var E=t[x],A=E.type;if(A===n||A===u)Array.isArray(E.value)?w.push.apply(w,m(E.value.map((function(t){return new g(n,t)})).concat(new g(v,E.value.length)),e,r,s,h)):w.push(E);else if(A===p&&h.hasOwnProperty(E.value))E=new g(n,h[E.value]),w.push(E);else if(A===o&&w.length>1)f=w.pop(),c=w.pop(),E=new g(n,(0,r[E.value])(c.value,f.value)),w.push(E);else if(A===a&&w.length>2)y=w.pop(),f=w.pop(),c=w.pop(),"?"===E.value?w.push(c.value?f.value:y.value):(E=new g(n,(0,s[E.value])(c.value,f.value,y.value)),w.push(E));else if(A===i&&w.length>0)c=w.pop(),E=new g(n,(0,e[E.value])(c.value)),w.push(E);else if(A===l){for(;w.length>0;)b.push(w.shift());b.push(new g(l,m(E.value,e,r,s,h)))}else if(A===d&&w.length>0)c=w.pop(),w.push(new g(n,c.value[E.value]));else{for(;w.length>0;)b.push(w.shift());b.push(E)}}for(;w.length>0;)b.push(w.shift());return b}function E(t,e,r){for(var s=[],n=0;n<t.length;n++){var u=t[n],h=u.type;if(h===p&&u.value===e)for(var c=0;c<r.tokens.length;c++){var f,d=r.tokens[c];f=d.type===i?w(d.value):d.type===o?b(d.value):d.type===a?x(d.value):new g(d.type,d.value),s.push(f)}else s.push(h===l?new g(l,E(u.value,e,r)):u)}return s}function A(t,e,r){var s,g,w,b,x,m,E=[];if(M(t))return T(t,r);for(var O=t.length,C=0;C<O;C++){var S=t[C],R=S.type;if(R===n||R===u)E.push(S.value);else if(R===o)g=E.pop(),s=E.pop(),E.push("and"===S.value?!!s&&!!A(g,e,r):"or"===S.value?!!s||!!A(g,e,r):"="===S.value?(b=e.binaryOps[S.value])(s,A(g,e,r),r):(b=e.binaryOps[S.value])(T(s,r),T(g,r)));else if(R===a)w=E.pop(),g=E.pop(),s=E.pop(),E.push("?"===S.value?A(s?g:w,e,r):(b=e.ternaryOps[S.value])(T(s,r),T(g,r),T(w,r)));else if(R===p)if(S.value in e.functions)E.push(e.functions[S.value]);else if(S.value in e.unaryOps&&e.parser.isOperatorEnabled(S.value))E.push(e.unaryOps[S.value]);else{var L=r[S.value];if(void 0===L)throw new Error("undefined variable: "+S.value);E.push(L)}else if(R===i)s=E.pop(),E.push((b=e.unaryOps[S.value])(T(s,r)));else if(R===h){for(m=S.value,x=[];m-- >0;)x.unshift(T(E.pop(),r));if(!(b=E.pop()).apply||!b.call)throw new Error(b+" is not a function");E.push(b.apply(void 0,x))}else if(R===c)E.push(function(){for(var t=E.pop(),s=[],n=S.value;n-- >0;)s.unshift(E.pop());var i=E.pop(),o=function(){for(var n=Object.assign({},r),i=0,o=s.length;i<o;i++)n[s[i]]=arguments[i];return A(t,e,n)};return Object.defineProperty(o,"name",{value:i,writable:!1}),r[i]=o,o}());else if(R===l)E.push(k(S,e));else if(R===f)E.push(S);else if(R===d)s=E.pop(),E.push(s[S.value]);else if(R===y)E.pop();else{if(R!==v)throw new Error("invalid Expression");for(m=S.value,x=[];m-- >0;)x.unshift(E.pop());E.push(x)}}if(E.length>1)throw new Error("invalid Expression (parity)");return 0===E[0]?0:T(E[0],r)}function k(t,e,r){return M(t)?t:{type:f,value:function(r){return A(t.value,e,r)}}}function M(t){return t&&t.type===f}function T(t,e){return M(t)?t.value(e):t}function O(t,e){for(var r,s,f,g,w,b,x=[],m=0;m<t.length;m++){var E=t[m],A=E.type;if(A===n)"number"==typeof E.value&&E.value<0?x.push("("+E.value+")"):Array.isArray(E.value)?x.push("["+E.value.map(C).join(", ")+"]"):x.push(C(E.value));else if(A===o)s=x.pop(),r=x.pop(),g=E.value,x.push(e?"^"===g?"Math.pow("+r+", "+s+")":"and"===g?"(!!"+r+" && !!"+s+")":"or"===g?"(!!"+r+" || !!"+s+")":"||"===g?"(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+s+")))":"=="===g?"("+r+" === "+s+")":"!="===g?"("+r+" !== "+s+")":"["===g?r+"[("+s+") | 0]":"("+r+" "+g+" "+s+")":"["===g?r+"["+s+"]":"("+r+" "+g+" "+s+")");else if(A===a){if(f=x.pop(),s=x.pop(),r=x.pop(),"?"!==(g=E.value))throw new Error("invalid Expression");x.push("("+r+" ? "+s+" : "+f+")")}else if(A===p||A===u)x.push(E.value);else if(A===i)r=x.pop(),x.push("-"===(g=E.value)||"+"===g?"("+g+r+")":e?"not"===g?"(!"+r+")":"!"===g?"fac("+r+")":g+"("+r+")":"!"===g?"("+r+"!)":"("+g+" "+r+")");else if(A===h){for(b=E.value,w=[];b-- >0;)w.unshift(x.pop());g=x.pop(),x.push(g+"("+w.join(", ")+")")}else if(A===c){for(s=x.pop(),b=E.value,w=[];b-- >0;)w.unshift(x.pop());r=x.pop(),x.push(e?"("+r+" = function("+w.join(", ")+") { return "+s+" })":"("+r+"("+w.join(", ")+") = "+s+")")}else if(A===d)r=x.pop(),x.push(r+"."+E.value);else if(A===v){for(b=E.value,w=[];b-- >0;)w.unshift(x.pop());x.push("["+w.join(", ")+"]")}else if(A===l)x.push("("+O(E.value,e)+")");else if(A!==y)throw new Error("invalid Expression")}return x.length>1&&(x=e?[x.join(",")]:[x.join(";")]),String(x[0])}function C(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function S(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function R(t,e,r){for(var s=!!(r=r||{}).withMembers,n=null,i=0;i<t.length;i++){var o=t[i];o.type===p||o.type===u?s||S(e,o.value)?null!==n?(S(e,n)||e.push(n),n=o.value):n=o.value:e.push(o.value):o.type===d&&s&&null!==n?n+="."+o.value:o.type===l?R(o.value,e,r):null!==n&&(S(e,n)||e.push(n),n=null)}null===n||S(e,n)||e.push(n)}function L(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}g.prototype.toString=function(){switch(this.type){case n:case i:case o:case a:case p:case u:case y:return this.value;case h:return"CALL "+this.value;case c:return"DEF "+this.value;case v:return"ARRAY "+this.value;case d:return"."+this.value;default:return"Invalid Instruction"}},L.prototype.simplify=function(t){return new L(m(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t=t||{}),this.parser)},L.prototype.substitute=function(t,e){return e instanceof L||(e=this.parser.parse(String(e))),new L(E(this.tokens,t,e),this.parser)},L.prototype.evaluate=function(t){return A(this.tokens,this,t=t||{})},L.prototype.toString=function(){return O(this.tokens,!1)},L.prototype.symbols=function(t){var e=[];return R(this.tokens,e,t=t||{}),e},L.prototype.variables=function(t){var e=[];R(this.tokens,e,t=t||{});var r=this.functions;return e.filter((function(t){return!(t in r)}))},L.prototype.toJSFunction=function(t,e){var r=this,s=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+O(this.simplify(e).tokens,!0)+"; }");return function(){return s.apply(r,arguments)}};var F="TEOF",$="TOP",B="TNUMBER",P="TSTRING",U="TPAREN",D="TBRACKET",N="TCOMMA",I="TNAME",j="TSEMICOLON";function z(t,e,r){this.type=t,this.value=e,this.index=r}function W(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}z.prototype.toString=function(){return this.type+": "+this.value},W.prototype.newToken=function(t,e,r){return new z(t,e,null!=r?r:this.pos)},W.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},W.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},W.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(F,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},W.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var s=this.expression.indexOf(r,e+1);s>=0&&this.pos<this.expression.length;){if(this.pos=s+1,"\\"!==this.expression.charAt(s-1)){var n=this.expression.substring(e+1,s);this.current=this.newToken(P,this.unescape(n),e),t=!0;break}s=this.expression.indexOf(r,s+1)}return t},W.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(U,t),this.pos++,!0)},W.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(D,t),this.pos++,!0)},W.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(N,","),this.pos++,!0)},W.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(j,";"),this.pos++,!0)},W.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var s=this.expression.substring(t,e);if(s in this.consts)return this.current=this.newToken(B,this.consts[s]),this.pos+=s.length,!0}return!1},W.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var s=this.expression.substring(t,e);if(this.isOperatorEnabled(s)&&(s in this.binaryOps||s in this.unaryOps||s in this.ternaryOps))return this.current=this.newToken($,s),this.pos+=s.length,!0}return!1},W.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var s=this.expression.charAt(e);if(s.toUpperCase()===s.toLowerCase()){if(e===this.pos&&("$"===s||"_"===s)){"_"===s&&(r=!0);continue}if(e===this.pos||!r||"_"!==s&&(s<"0"||s>"9"))break}else r=!0}if(r){var n=this.expression.substring(t,e);return this.current=this.newToken(I,n),this.pos+=n.length,!0}return!1},W.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var V=/^[0-9a-f]{4}$/i;function q(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}W.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var s=t.charAt(++e);switch(s){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var n=t.substring(e+1,e+5);V.test(n)||this.parseError("Illegal escape sequence: \\u"+n),r+=String.fromCharCode(parseInt(n,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+s+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},W.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},W.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var s=!1,n=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,s=!0}return s&&(this.current=this.newToken(B,parseInt(this.expression.substring(n,r),t)),this.pos=r),s},W.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,s=r,n=r,i=!1,o=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:o=!0,r++,e=o;if(e&&(n=r),"e"===t||"E"===t){r++;for(var a=!0,p=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;p=!0,a=!1}else a=!1;r++}p||(r=n)}return e?(this.current=this.newToken(B,parseFloat(this.expression.substring(s,r))),this.pos=r):this.pos=n,e},W.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken($,e);else if("∙"===e||"•"===e)this.current=this.newToken($,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,">="),this.pos++):this.current=this.newToken($,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"<="),this.pos++):this.current=this.newToken($,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken($,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"=="),this.pos++):this.current=this.newToken($,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"!="),this.pos++):this.current=this.newToken($,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},W.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},W.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},W.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},q.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},q.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?S(e,t.value):"function"==typeof e?e(t):t.value===e)},q.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},q.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},q.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},q.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},q.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(I)||this.accept($,(function(t){return t.value in e})))t.push(new g(p,this.current.value));else if(this.accept(B))t.push(new g(n,this.current.value));else if(this.accept(P))t.push(new g(n,this.current.value));else if(this.accept(U,"("))this.parseExpression(t),this.expect(U,")");else{if(!this.accept(D,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(D,"]"))t.push(new g(v,0));else{var r=this.parseArrayList(t);t.push(new g(v,r))}}},q.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},q.prototype.pushExpression=function(t,e){for(var r=0,s=e.length;r<s;r++)t.push(e[r])},q.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(j)&&(!this.nextToken||this.nextToken.type===F||this.nextToken.type===U&&")"===this.nextToken.value||e.push(new g(y)),this.nextToken.type!==F&&this.parseExpression(e),t.push(new g(l,e)),!0)},q.prototype.parseArrayList=function(t){for(var e=0;!this.accept(D,"]");)for(this.parseExpression(t),++e;this.accept(N);)this.parseExpression(t),++e;return e},q.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept($,"=");){var e=t.pop(),r=[],s=t.length-1;if(e.type!==h){if(e.type!==p&&e.type!==d)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new g(u,e.value)),t.push(new g(l,r)),t.push(b("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var n=0,i=e.value+1;n<i;n++){var o=s-n;t[o].type===p&&(t[o]=new g(u,t[o].value))}this.parseVariableAssignmentExpression(r),t.push(new g(l,r)),t.push(new g(c,e.value))}}},q.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept($,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect($,":"),this.parseConditionalExpression(r),t.push(new g(l,e)),t.push(new g(l,r)),t.push(x("?"))}},q.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept($,"or");){var e=[];this.parseAndExpression(e),t.push(new g(l,e)),t.push(b("or"))}},q.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept($,"and");){var e=[];this.parseComparison(e),t.push(new g(l,e)),t.push(b("and"))}};var G=["==","!=","<","<=",">=",">","in"];q.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept($,G);){var e=this.current;this.parseAddSub(t),t.push(b(e.value))}};var _=["+","-","||"];q.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept($,_);){var e=this.current;this.parseTerm(t),t.push(b(e.value))}};var H=["*","/","%"];function K(t,e){return Number(t)+Number(e)}function X(t,e){return t-e}function Y(t,e){return t*e}function J(t,e){return t/e}function Q(t,e){return t%e}function Z(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function tt(t,e){return t===e}function et(t,e){return t!==e}function rt(t,e){return t>e}function st(t,e){return t<e}function nt(t,e){return t>=e}function it(t,e){return t<=e}function ot(t,e){return Boolean(t&&e)}function at(t,e){return Boolean(t||e)}function pt(t,e){return S(e,t)}function ut(t){return(Math.exp(t)-Math.exp(-t))/2}function ht(t){return(Math.exp(t)+Math.exp(-t))/2}function ct(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function lt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function ft(t){return Math.log(t+Math.sqrt(t*t-1))}function dt(t){return Math.log((1+t)/(1-t))/2}function yt(t){return Math.log(t)*Math.LOG10E}function vt(t){return-t}function gt(t){return!t}function wt(t){return t<0?Math.ceil(t):Math.floor(t)}function bt(t){return Math.random()*(t||1)}function xt(t){return Et(t+1)}q.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept($,H);){var e=this.current;this.parseFactor(t),t.push(b(e.value))}},q.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept($,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===U&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===j||this.nextToken.type===N||this.nextToken.type===F||this.nextToken.type===U&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(w(r.value))}else this.parseExponential(t)},q.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept($,"^");)this.parseFactor(t),t.push(b("^"))},q.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept($,"!");)t.push(w("!"))},q.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept($,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(w(r.value))}else for(this.parseMemberExpression(t);this.accept(U,"(");)if(this.accept(U,")"))t.push(new g(h,0));else{var s=this.parseArgumentList(t);t.push(new g(h,s))}},q.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(U,")");)for(this.parseExpression(t),++e;this.accept(N);)this.parseExpression(t),++e;return e},q.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept($,".")||this.accept(D,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(I),t.push(new g(d,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(D,"]"),t.push(b("["))}}};var mt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Et(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var s=t-2,n=t-1;s>1;)n*=s,s--;return 0===n&&(n=1),n}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Et(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,o=i*t,a=o*t,p=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*o)-571/(2488320*a)+163879/(209018880*p)+5246819/(75246796800*p*t))}--t,r=mt[0];for(var u=1;u<mt.length;++u)r+=mt[u]/(t+u);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function At(t){return Array.isArray(t)?t.length:String(t).length}function kt(){for(var t=0,e=0,r=0;r<arguments.length;r++){var s,n=Math.abs(arguments[r]);e<n?(t=t*(s=e/n)*s+1,e=n):t+=n>0?(s=n/e)*s:n}return e===1/0?1/0:e*Math.sqrt(t)}function Mt(t,e,r){return t?e:r}function Tt(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Ot(t,e,r){return r&&(r[t]=e),e}function Ct(t,e){return t[0|e]}function St(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Rt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Lt(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function Ft(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,s){return t(e,r,s)}),e)}function $t(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Bt(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function Pt(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function Ut(t){return(t>0)-(t<0)||+t}var Dt=1/3;function Nt(t){return t<0?-Math.pow(-t,Dt):Math.pow(t,Dt)}function It(t){return Math.exp(t)-1}function jt(t){return Math.log(1+t)}function zt(t){return Math.log(t)/Math.LN2}function Wt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||ut,cosh:Math.cosh||ht,tanh:Math.tanh||ct,asinh:Math.asinh||lt,acosh:Math.acosh||ft,atanh:Math.atanh||dt,sqrt:Math.sqrt,cbrt:Math.cbrt||Nt,log:Math.log,log2:Math.log2||zt,ln:Math.log,lg:Math.log10||yt,log10:Math.log10||yt,expm1:Math.expm1||It,log1p:Math.log1p||jt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||wt,"-":vt,"+":Number,exp:Math.exp,not:gt,length:At,"!":xt,sign:Math.sign||Ut},this.binaryOps={"+":K,"-":X,"*":Y,"/":J,"%":Q,"^":Math.pow,"||":Z,"==":tt,"!=":et,">":rt,"<":st,">=":nt,"<=":it,and:ot,or:at,in:pt,"=":Ot,"[":Ct},this.ternaryOps={"?":Mt},this.functions={random:bt,fac:xt,min:Rt,max:St,hypot:Math.hypot||kt,pyt:Math.hypot||kt,pow:Math.pow,atan2:Math.atan2,if:Mt,gamma:Et,roundTo:Tt,map:Lt,fold:Ft,filter:$t,indexOf:Bt,join:Pt},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Wt.prototype.parse=function(t){var e=[],r=new q(this,new W(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect(F,"EOF"),new L(e,this)},Wt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Vt=new Wt;Wt.parse=function(t){return Vt.parse(t)},Wt.evaluate=function(t,e){return Vt.parse(t).evaluate(e)};var qt={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Wt.prototype.isOperatorEnabled=function(t){var e=function(t){return qt.hasOwnProperty(t)?qt[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};const Gt=/(^|[\s'"`])(?<important>!)?(?<variants>([\w-]+:)*)/gm;function _t(t,e){return e.reduce(((t,e)=>{const r=t[e];if(null==r)throw new Error(`Object has no attribute '${e}'.`);return r}),t)}function Ht(t,r){const s=t[e.SymbolData];return null==s?t[e.SymbolData]={$selector:r}:s.$selector||(t[e.SymbolData].$selector=r),t}function Kt(t){var r;const s=[];for(const n of t){const t=null!==(r=n[e.SymbolData])&&void 0!==r?r:{};s.push(...e.createRules(e.applyVariant(n),t.$selector))}return e.buildRules(e.dedupRules(s))}function Xt(t,e){return new RegExp(t.source+e.source,t.flags)}function Yt(t,s,n){const i=[];if(r.hasKey(t.utilities,s)){const r=_t(t.utilities[s],n);e.isStyleArray(r)?i.push(...r):e.isStyleObject(r)&&i.push(r)}return i}function Jt(t,e,s){return s.map((e=>{if(r.hasKey(t.variants,e))return t.variants[e];throw new Error(`Unrecognizable variant '${e}'.`)})).reduceRight(((t,e)=>e(...t)),e)}function Qt(t,e,r=!1){var s,n,i;const o=t.ident;if(!o)throw new Error(`Unrecognizable utility '${o}'`);return r?{...t,ident:o,props:null!==(n=null===(s=t.props)||void 0===s?void 0:s.split(e.separator).filter(Boolean))&&void 0!==n?n:[],variants:null===(i=t.variants)||void 0===i?void 0:i.split(e.variantSeparator).filter(Boolean),important:null==t.important}:t}const Zt={animate:"animation",delay:"transitionDelay",ease:"transitionTimingFunction",duration:"transitionDuration",transition:t=>e.css({transitionProperty:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),aspect:"aspectRatio",basis:"flexBasis",columns:"columns",flex:"flex",grow:"flexGrow",shrink:"flexShrink",order:"order",object:"objectPosition",opacity:"opacity",bg:{DEFAULT:(t,r)=>"color"===r?s.buildColor("backgroundColor","--w-bg-opacity",t):e.css("position"===r?{backgroundPosition:t}:"length"===r?{backgroundSize:t}:"url"===r||"image"===r?{backgroundImage:t}:{background:t}),opacity:"--w-bg-opacity"},from:s.buildGradientFrom,via:s.buildGradientVia,to:s.buildGradientTo,text:{DEFAULT:(t,r)=>"color"===r?s.buildColor("color","--w-text-opacity",t):e.css({fontSize:t}),opacity:"--w-text-opacity"},accent:"accentColor",cursor:"cursor",caret:"caretColor",blur:t=>e.css({"--w-blur":`blur(${t})`}),brightness:t=>e.css({"--w-brightness":`brightness(${t})`}),contrast:t=>e.css({"--w-contrast":`contrast(${t})`}),drop:{shadow:t=>e.css({"--w-drop-shadow":`opacity(${t})`})},grayscale:t=>e.css({"--w-grayscale":`grayscale(${t})`}),hueRotate:t=>e.css({"--w-hue-rotate":`hue-rotate(${t})`}),invert:t=>e.css({"--w-invert":`invert(${t})`}),sepia:t=>e.css({"--w-sepia":`sepia(${t})`}),saturate:t=>e.css({"--w-saturate":`saturate(${t})`}),backdrop:{blur:t=>e.css({"--w-backdrop-blur":`blur(${t})`}),brightness:t=>e.css({"--w-backdrop-brightness":`brightness(${t})`}),contrast:t=>e.css({"--w-backdrop-contrast":`contrast(${t})`}),grayscale:t=>e.css({"--w-backdrop-grayscale":`grayscale(${t})`}),hueRotate:t=>e.css({"--w-backdrop-hue-rotate":`hue-rotate(${t})`}),invert:t=>e.css({"--w-backdrop-invert":`invert(${t})`}),opacity:t=>e.css({"--w-backdrop-opacity":`opacity(${t})`}),sepia:t=>e.css({"--w-backdrop-sepia":`sepia(${t})`}),saturate:t=>e.css({"--w-backdrop-saturate":`saturate(${t})`})},scale:{DEFAULT:["--w-scale-x","--w-scale-y","--w-scale-z"],x:"--w-scale-x",y:"--w-scale-y",z:"--w-scale-z"},rotate:{DEFAULT:"--w-rotate",x:"--w-rotate-x",y:"--w-rotate-y",z:"--w-rotate-z"},translate:{DEFAULT:["--w-translate-x","--w-translate-y","--w-translate-z"],x:"--w-translate-x",y:"--w-translate-y",z:"--w-translate-z"},skew:{DEFAULT:["--w-skew-x","--w-skew-y"],x:"--w-skew-x",y:"--w-skew-y"},origin:"transformOrigin",scroll:{p:"scrollPadding",px:["scrollPaddingLeft","scrollPaddingRight"],py:["scrollPaddingTop","scrollPaddingBottom"],pt:"scrollPaddingTop",pr:"scrollPaddingRight",pb:"scrollPaddingBottom",pl:"scrollPaddingLeft",m:"scrollMargin",mx:["scrollMarginLeft","scrollMarginRight"],my:["scrollMarginTop","scrollMarginBottom"],mt:"scrollMarginTop",mr:"scrollMarginRight",mb:"scrollMarginBottom",ml:"scrollMarginLeft"},grid:{rows:"gridTemplateRows",cols:"gridTemplateColumns"},row:{DEFAULT:"gridRow",span:t=>e.css({gridRow:`span ${t} / span ${t}`}),start:"gridRowStart",end:"gridRowEnd"},col:{DEFAULT:"gridColumn",span:t=>e.css({gridColumn:`span ${t} / span ${t}`}),start:"gridColumnStart",end:"gridColumnEnd"},inset:{DEFAULT:["top","right","bottom","left"],x:["left","right"],y:["top","bottom"]},gap:{DEFAULT:"gap",x:"columnGap",y:"rowGap"},auto:{rows:"gridAutoRows",cols:"gridAutoColumns"},p:"padding",px:["paddingLeft","paddingRight"],py:["paddingTop","paddingBottom"],pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",m:"margin",mx:["marginLeft","marginRight"],my:["marginTop","marginBottom"],mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",space:{x:s.buildSpaceBetweenX,y:s.buildSpaceBetweenY},w:"width",h:"height",min:{w:"minWidth",h:"minHeight"},max:{w:"maxWidth",h:"maxHeight"},font:(t,r)=>e.css({["number"===r?"fontWeight":"fontFamily"]:t}),tracking:"letterSpacing",leading:"lineHeight",list:"listStyleType",decoration:(t,r)=>e.css({["length"===r?"textDecorationThickness":"textDecorationColor"]:t}),underline:{offset:"textUnderlineOffset"},rounded:{DEFAULT:"borderRadius",t:["borderTopLeftRadius","borderTopRightRadius"],b:["borderBottomRightRadius","borderBottomLeftRadius"],l:["borderTopLeftRadius","borderBottomLeftRadius"],r:["borderTopRightRadius","borderBottomRightRadius"],tl:"borderTopLeftRadius",tr:"borderTopRightRadius",bl:"borderBottomLeftRadius",br:"borderBottomRightRadius"},border:{DEFAULT:(t,r)=>"color"===r?s.buildColor("borderColor","--w-border-opacity",t):e.css({borderWidth:t}),x:(t,e)=>"color"===e?s.buildColor(["borderLeftColor","borderRightColor"],"--w-border-opacity",t):s.buildStatic(["borderLeftWidth","borderRightWidth"],t),y:(t,e)=>"color"===e?s.buildColor(["borderTopColor","borderBottomColor"],"--w-border-opacity",t):s.buildStatic(["borderTopWidth","borderBottomWidth"],t),t:(t,r)=>"color"===r?s.buildColor("borderTopColor","--w-border-opacity",t):e.css({borderTopWidth:t}),r:(t,r)=>"color"===r?s.buildColor("borderRightColor","--w-border-opacity",t):e.css({borderRightWidth:t}),b:(t,r)=>"color"===r?s.buildColor("borderBottomColor","--w-border-opacity",t):e.css({borderBottomWidth:t}),l:(t,r)=>"color"===r?s.buildColor("borderLeftColor","--w-border-opacity",t):e.css({borderLeftWidth:t}),spacing:{DEFAULT:"borderSpacing",x:t=>e.css({borderSpacing:`${t} var(--w-border-spacing-y)`}),y:t=>e.css({borderSpacing:`var(--w-border-spacing-x) ${t}`})},opacity:"--w-border-opacity"},divide:{DEFAULT:s.buildDivideColor,x:s.buildDivideX,y:s.buildDivideY},outline:{DEFAULT:(t,r)=>"color"===r?s.buildColor("outlineColor","--w-outline-opacity",t):e.css({outlineWidth:t}),offset:"outlineOffset",opacity:"--w-outline-opacity"},ring:{DEFAULT:(t,e)=>"color"===e?s.buildColor("--w-ring-color","--w-ring-opacity",t):s.buildRingWidth(t),offset:{DEFAULT:(t,r)=>"color"===r?s.buildColor("--w-ring-offset-color","--w-ring-offset-opacity",t):e.css({"--w-ring-offset-width":t}),opacity:"--w-ring-offset-opacity"},opacity:"--w-ring-opacity"},shadow:{DEFAULT:(t,e)=>"color"===e?s.buildBoxShadowColor(t):s.buildBoxShadowSize(t),opacity:"--w-shadow-color-opacity"},fill:"fill",stroke:(t,r)=>e.css({["length"===r?"strokeWidth":"stroke"]:t}),indent:"textIndent",align:"verticalAlign",content:"content",z:"zIndex",top:"top",right:"right",bottom:"bottom",left:"left",will:{change:"willChange"}},te=/^((color|string|url|integer|number|dimension|percentage|ratio|flex|resolution|alpha-value|image|position)|((length|frequency|angle|time)(-percentage)?)):/;function ee(t){let e;t=t.replace(/_/g," ");const s=te.exec(t);return null!=s?(e=s[1],t=t.slice(s[0].length)):r.isSize(t)?e="length":r.isColor(t)?e="color":r.isNumber(t)?e="number":r.isUrl(t)?e="url":r.isPosition(t)?e="position":r.isGradient(t)&&(e="image"),{type:e,value:t}}function re(t,r,s){return"function"==typeof t?t(r,s):Array.isArray(t)?e.css(Object.fromEntries(t.map((t=>[t,r])))):"object"==typeof t?re(t.DEFAULT,r,s):e.css({[t]:r})}return t.BaseRule=Gt,t.Processor=class{constructor(t){this.config=this.resolveConfig(t)}resolveConfig(t){var e;return{...t,attributify:null!==(e=t.attributify)&&void 0!==e?e:{}}}extract(t){let r=null;const s=[],n=this.config.extractors.map((t=>t(this.config)));for(const{rule:i,build:o}of n)do{if(r=i.exec(t),r){const t=o(r,r.groups);if(t){const n="."+e.escapeCSS(r[0].replace(/^['"`]/,"").trim());Array.isArray(t)?s.push(...t.map((t=>Ht(t,n)))):s.push(Ht(t,n))}}}while(null!=r);return s}interpret(t){return Kt(this.extract(t))}compile(t,s){const n=this.extract(t);return e.unify("."+(null!=s?s:"windi-"+r.hash(n.map((t=>{var r;return(null!==(r=t[e.SymbolData])&&void 0!==r?r:{}).$selector})).sort().join())),n)}},t.Vm=class extends Wt{constructor(t,e){super(t),this.ctx=null!=e?e:{}}setContext(t){this.ctx=t}parse(t){const e=super.parse("["+t+"]");return Reflect.defineProperty(e,"eval",{value:t=>e.evaluate({...this.ctx,...t})}),e}},t.attributifyExtractor=function(t){var r;const s=Object.fromEntries(Object.entries(t.utilities).map((([t,e])=>[t,e.css])).filter((t=>null!=t[1])));return{rule:new RegExp(`(^|\\s)(${(null===(r=t.attributify)||void 0===r?void 0:r.prefix)||""}(?<important>!)?(?<variants>([\\w-]+:)*)(?<ident>\\w+))\\s*=\\s*(["'](?<attrs>.*?)["'])`,"gm"),build:function(r,n={}){var i,o,a,p,u;const h=null!==(i=n.ident)&&void 0!==i?i:"class",c=null!==(a=null===(o=n.variants)||void 0===o?void 0:o.split(t.variantSeparator).filter(Boolean))&&void 0!==a?a:[],l=(null!==(p=n.attrs)&&void 0!==p?p:"").split(" ").filter(Boolean);let f=[];const d=[],y=1===l.length?"=":"~=",v=new RegExp(`^([\\w-]+${t.variantSeparator})+`),g=["filter","transform","transition"].includes(h);if(h in s){const t=Ht(e.css(s[h]),`[${h}]`);d.push(t)}for(const s of l){f=null!==(u=s.replace("hue-rotate","hueRotate").replace("drop-shadow","dropShadow").split(t.separator).filter(Boolean))&&void 0!==u?u:[];const n=v.exec(f[0]);n&&(f[0]=f[0].slice(n[0].length)),d.push(...Jt(t,g&&/^(blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|saturate|sepia|scale|rotate|translate|skew|origin|duration|ease|delay|animate)/.test(s)?Yt(t,f[0],f.slice(1)):Yt(t,h,f),n?[...c,...n[0].split(t.variantSeparator).filter(Boolean)]:c).map((t=>Ht(t,`[${e.escapeCSS(r[2])}${y}"${s}"]`))))}return d}}},t.buildCSS=Kt,t.extendRegex=Xt,t.extractGroup=Qt,t.generateUtilities=Yt,t.generateVariants=Jt,t.getNestedObject=_t,t.parseArbitrary=ee,t.setSelector=Ht,t.styleArbitraryExtractor=function(t){return{rule:Xt(Gt,/\[(?<property>[\w-]+):(?<arbitrary>[^\]\s]+)\](?=[\s'"`]|$)/),build:function(r,s={}){var n;const i=null===(n=s.variants)||void 0===n?void 0:n.split(t.variantSeparator).filter(Boolean),o=s.property,a=s.arbitrary;if(!o)throw new Error("Unexpected empty arbitrary property");if(!a)throw new Error("Unexpected empty arbitrary value");const p=[e.css({[o]:a.replace(/_/g," ")})];return i?Jt(t,p,i):p}}},t.utilityArbitraryExtractor=function(t){return{rule:Xt(Gt,/(?<ident>\w+)(?<props>(-\w+)*)-\[(?<arbitrary>[^\]\s]+)\](?=[\s'"`]|$)/),build:(e,s={})=>{const{ident:n,props:i,variants:o,arbitrary:a}=Qt(s,t,!0);if(!a)throw new Error("Unexpected empty arbitrary value");const p=[];if(r.hasKey(Zt,n)){const t=Zt[n],e="object"==typeof t?_t(t,i):t,{type:r,value:s}=ee(a);p.push(re(e,s,r))}return o?Jt(t,p,o):p}}},t.utilityExtractor=function(t){return{rule:Xt(Gt,/(?<ident>\w+)(?<props>(-\w+)*)(?=[\s'"`]|$)/),build:function(e,r={}){const{ident:s,props:n,variants:i}=Qt(r,t,!0),o=Yt(t,s,n);return i?Jt(t,o,i):o}}},Object.defineProperty(t,"__esModule",{value:!0}),t}({},windijsHelpers,windijsShared,windijsCore);
