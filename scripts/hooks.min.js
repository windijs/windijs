!(function (_, n) { typeof exports === "object" && typeof module !== "undefined" ? n(exports, require("preact")) : typeof define === "function" && define.amd ? define(["exports", "preact"], n) : n(_.preactHooks = {}, _.preact); }(this, function (_, o) { let u; let e; let n; let t; let i = 0; const c = []; const r = []; const f = o.options.__b; const s = o.options.__r; const a = o.options.diffed; const h = o.options.__c; const p = o.options.unmount; function l (_, n) { o.options.__h && o.options.__h(e, _, i || n), i = 0; n = e.__H || (e.__H = { __: [], __h: [] }); return _ >= n.__.length && n.__.push({ __V: r }), n.__[_]; } function m (_) { return i = 1, v(q, _); } function v (_, n, t) { const o = l(u++, 2); return o.t = _, o.__c || (o.__ = [t ? t(n) : q(void 0, n), function (_) { _ = o.t(o.__[0], _); o.__[0] !== _ && (o.__ = [_, o.__[1]], o.__c.setState({})); }], o.__c = e), o.__; } function d (_, n) { const t = l(u++, 4); !o.options.__s && g(t.__H, n) && (t.__ = _, t.u = n, e.__h.push(t)); } function H (_, n) { const t = l(u++, 7); return g(t.__H, n) ? (t.__V = _(), t.u = n, t.__h = _, t.__V) : t.__; } function y () { for (var n; n = c.shift();) if (n.__P) try { n.__H.__h.forEach(V), n.__H.__h.forEach(b), n.__H.__h = []; } catch (_) { n.__H.__h = [], o.options.__e(_, n.__v); } }o.options.__b = function (_) { e = null, f && f(_); }, o.options.__r = function (_) { s && s(_), u = 0; _ = (e = _.__c).__H; _ && (n === e ? (_.__h = [], e.__h = [], _.__.forEach(function (_) { _.__V = r, _.u = void 0; })) : (_.__h.forEach(V), _.__h.forEach(b), _.__h = [])), n = e; }, o.options.diffed = function (_) { a && a(_); _ = _.__c; _ && _.__H && (!_.__H.__h.length || c.push(_) !== 1 && t === o.options.requestAnimationFrame || ((t = o.options.requestAnimationFrame) || function (_) { function n () { clearTimeout(o), E && cancelAnimationFrame(t), setTimeout(_); } let t; var o = setTimeout(n, 100); E && (t = requestAnimationFrame(n)); })(y), _.__H.__.forEach(function (_) { _.u && (_.__H = _.u), _.__V !== r && (_.__ = _.__V), _.u = void 0, _.__V = r; })), n = e = null; }, o.options.__c = function (_, t) { t.some(function (n) { try { n.__h.forEach(V), n.__h = n.__h.filter(function (_) { return !_.__ || b(_); }); } catch (_) { t.some(function (_) { _.__h && (_.__h = []); }), t = [], o.options.__e(_, n.__v); } }), h && h(_, t); }, o.options.unmount = function (_) { p && p(_); let n; var _ = _.__c; _ && _.__H && (_.__H.__.forEach(function (_) { try { V(_); } catch (_) { n = _; } }), n && o.options.__e(n, _.__v)); }; var E = typeof requestAnimationFrame === "function"; function V (_) { const n = e; const t = _.__c; typeof t === "function" && (_.__c = void 0, t()), e = n; } function b (_) { const n = e; _.__c = _.__(), e = n; } function g (t, _) { return !t || t.length !== _.length || _.some(function (_, n) { return _ !== t[n]; }); } function q (_, n) { return typeof n === "function" ? n(_) : n; }_.useState = m, _.useReducer = v, _.useEffect = function (_, n) { const t = l(u++, 3); !o.options.__s && g(t.__H, n) && (t.__ = _, t.u = n, e.__H.__h.push(t)); }, _.useLayoutEffect = d, _.useRef = function (_) { return i = 5, H(function () { return { current: _ }; }, []); }, _.useImperativeHandle = function (_, n, t) { i = 6, d(function () { return typeof _ === "function" ? (_(n()), function () { return _(null); }) : _ ? (_.current = n(), function () { return _.current = null; }) : void 0; }, t == null ? t : t.concat(_)); }, _.useMemo = H, _.useCallback = function (_, n) { return i = 8, H(function () { return _; }, n); }, _.useContext = function (_) { const n = e.context[_.__c]; const t = l(u++, 9); return t.c = _, n ? (t.__ == null && (t.__ = !0, n.sub(e)), n.props.value) : _.__; }, _.useDebugValue = function (_, n) { o.options.useDebugValue && o.options.useDebugValue(n ? n(_) : _); }, _.useErrorBoundary = function (_) { const n = l(u++, 10); const t = m(); return n.__ = _, e.componentDidCatch || (e.componentDidCatch = function (_) { n.__ && n.__(_), t[1](_); }), [t[0], function () { t[1](void 0); }]; }; }));
