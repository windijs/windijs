var windicss=function(t,r,e,n){"use strict";var s="INUMBER",i="IOP1",o="IOP2",a="IOP3",p="IVAR",u="IVARNAME",h="IFUNCALL",c="IFUNDEF",l="IEXPR",f="IEXPREVAL",d="IMEMBER",y="IENDSTATEMENT",v="IARRAY";function g(t,r){this.type=t,this.value=null!=r?r:0}function w(t){return new g(i,t)}function b(t){return new g(o,t)}function x(t){return new g(a,t)}function m(t,r,e,n,h){for(var c,f,y,w=[],b=[],x=0;x<t.length;x++){var E=t[x],A=E.type;if(A===s||A===u)Array.isArray(E.value)?w.push.apply(w,m(E.value.map((function(t){return new g(s,t)})).concat(new g(v,E.value.length)),r,e,n,h)):w.push(E);else if(A===p&&h.hasOwnProperty(E.value))E=new g(s,h[E.value]),w.push(E);else if(A===o&&w.length>1)f=w.pop(),c=w.pop(),E=new g(s,(0,e[E.value])(c.value,f.value)),w.push(E);else if(A===a&&w.length>2)y=w.pop(),f=w.pop(),c=w.pop(),"?"===E.value?w.push(c.value?f.value:y.value):(E=new g(s,(0,n[E.value])(c.value,f.value,y.value)),w.push(E));else if(A===i&&w.length>0)c=w.pop(),E=new g(s,(0,r[E.value])(c.value)),w.push(E);else if(A===l){for(;w.length>0;)b.push(w.shift());b.push(new g(l,m(E.value,r,e,n,h)))}else if(A===d&&w.length>0)c=w.pop(),w.push(new g(s,c.value[E.value]));else{for(;w.length>0;)b.push(w.shift());b.push(E)}}for(;w.length>0;)b.push(w.shift());return b}function E(t,r,e){for(var n=[],s=0;s<t.length;s++){var u=t[s],h=u.type;if(h===p&&u.value===r)for(var c=0;c<e.tokens.length;c++){var f,d=e.tokens[c];f=d.type===i?w(d.value):d.type===o?b(d.value):d.type===a?x(d.value):new g(d.type,d.value),n.push(f)}else n.push(h===l?new g(l,E(u.value,r,e)):u)}return n}function A(t,r,e){var n,g,w,b,x,m,E=[];if(M(t))return T(t,e);for(var O=t.length,C=0;C<O;C++){var S=t[C],R=S.type;if(R===s||R===u)E.push(S.value);else if(R===o)g=E.pop(),n=E.pop(),E.push("and"===S.value?!!n&&!!A(g,r,e):"or"===S.value?!!n||!!A(g,r,e):"="===S.value?(b=r.binaryOps[S.value])(n,A(g,r,e),e):(b=r.binaryOps[S.value])(T(n,e),T(g,e)));else if(R===a)w=E.pop(),g=E.pop(),n=E.pop(),E.push("?"===S.value?A(n?g:w,r,e):(b=r.ternaryOps[S.value])(T(n,e),T(g,e),T(w,e)));else if(R===p)if(S.value in r.functions)E.push(r.functions[S.value]);else if(S.value in r.unaryOps&&r.parser.isOperatorEnabled(S.value))E.push(r.unaryOps[S.value]);else{var L=e[S.value];if(void 0===L)throw new Error("undefined variable: "+S.value);E.push(L)}else if(R===i)n=E.pop(),E.push((b=r.unaryOps[S.value])(T(n,e)));else if(R===h){for(m=S.value,x=[];m-- >0;)x.unshift(T(E.pop(),e));if(!(b=E.pop()).apply||!b.call)throw new Error(b+" is not a function");E.push(b.apply(void 0,x))}else if(R===c)E.push(function(){for(var t=E.pop(),n=[],s=S.value;s-- >0;)n.unshift(E.pop());var i=E.pop(),o=function(){for(var s=Object.assign({},e),i=0,o=n.length;i<o;i++)s[n[i]]=arguments[i];return A(t,r,s)};return Object.defineProperty(o,"name",{value:i,writable:!1}),e[i]=o,o}());else if(R===l)E.push(k(S,r));else if(R===f)E.push(S);else if(R===d)n=E.pop(),E.push(n[S.value]);else if(R===y)E.pop();else{if(R!==v)throw new Error("invalid Expression");for(m=S.value,x=[];m-- >0;)x.unshift(E.pop());E.push(x)}}if(E.length>1)throw new Error("invalid Expression (parity)");return 0===E[0]?0:T(E[0],e)}function k(t,r,e){return M(t)?t:{type:f,value:function(e){return A(t.value,r,e)}}}function M(t){return t&&t.type===f}function T(t,r){return M(t)?t.value(r):t}function O(t,r){for(var e,n,f,g,w,b,x=[],m=0;m<t.length;m++){var E=t[m],A=E.type;if(A===s)"number"==typeof E.value&&E.value<0?x.push("("+E.value+")"):Array.isArray(E.value)?x.push("["+E.value.map(C).join(", ")+"]"):x.push(C(E.value));else if(A===o)n=x.pop(),e=x.pop(),g=E.value,x.push(r?"^"===g?"Math.pow("+e+", "+n+")":"and"===g?"(!!"+e+" && !!"+n+")":"or"===g?"(!!"+e+" || !!"+n+")":"||"===g?"(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+e+"),("+n+")))":"=="===g?"("+e+" === "+n+")":"!="===g?"("+e+" !== "+n+")":"["===g?e+"[("+n+") | 0]":"("+e+" "+g+" "+n+")":"["===g?e+"["+n+"]":"("+e+" "+g+" "+n+")");else if(A===a){if(f=x.pop(),n=x.pop(),e=x.pop(),"?"!==(g=E.value))throw new Error("invalid Expression");x.push("("+e+" ? "+n+" : "+f+")")}else if(A===p||A===u)x.push(E.value);else if(A===i)e=x.pop(),x.push("-"===(g=E.value)||"+"===g?"("+g+e+")":r?"not"===g?"(!"+e+")":"!"===g?"fac("+e+")":g+"("+e+")":"!"===g?"("+e+"!)":"("+g+" "+e+")");else if(A===h){for(b=E.value,w=[];b-- >0;)w.unshift(x.pop());g=x.pop(),x.push(g+"("+w.join(", ")+")")}else if(A===c){for(n=x.pop(),b=E.value,w=[];b-- >0;)w.unshift(x.pop());e=x.pop(),x.push(r?"("+e+" = function("+w.join(", ")+") { return "+n+" })":"("+e+"("+w.join(", ")+") = "+n+")")}else if(A===d)e=x.pop(),x.push(e+"."+E.value);else if(A===v){for(b=E.value,w=[];b-- >0;)w.unshift(x.pop());x.push("["+w.join(", ")+"]")}else if(A===l)x.push("("+O(E.value,r)+")");else if(A!==y)throw new Error("invalid Expression")}return x.length>1&&(x=r?[x.join(",")]:[x.join(";")]),String(x[0])}function C(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function S(t,r){for(var e=0;e<t.length;e++)if(t[e]===r)return!0;return!1}function R(t,r,e){for(var n=!!(e=e||{}).withMembers,s=null,i=0;i<t.length;i++){var o=t[i];o.type===p||o.type===u?n||S(r,o.value)?null!==s?(S(r,s)||r.push(s),s=o.value):s=o.value:r.push(o.value):o.type===d&&n&&null!==s?s+="."+o.value:o.type===l?R(o.value,r,e):null!==s&&(S(r,s)||r.push(s),s=null)}null===s||S(r,s)||r.push(s)}function L(t,r){this.tokens=t,this.parser=r,this.unaryOps=r.unaryOps,this.binaryOps=r.binaryOps,this.ternaryOps=r.ternaryOps,this.functions=r.functions}g.prototype.toString=function(){switch(this.type){case s:case i:case o:case a:case p:case u:case y:return this.value;case h:return"CALL "+this.value;case c:return"DEF "+this.value;case v:return"ARRAY "+this.value;case d:return"."+this.value;default:return"Invalid Instruction"}},L.prototype.simplify=function(t){return new L(m(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t=t||{}),this.parser)},L.prototype.substitute=function(t,r){return r instanceof L||(r=this.parser.parse(String(r))),new L(E(this.tokens,t,r),this.parser)},L.prototype.evaluate=function(t){return A(this.tokens,this,t=t||{})},L.prototype.toString=function(){return O(this.tokens,!1)},L.prototype.symbols=function(t){var r=[];return R(this.tokens,r,t=t||{}),r},L.prototype.variables=function(t){var r=[];R(this.tokens,r,t=t||{});var e=this.functions;return r.filter((function(t){return!(t in e)}))},L.prototype.toJSFunction=function(t,r){var e=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+O(this.simplify(r).tokens,!0)+"; }");return function(){return n.apply(e,arguments)}};var F="TEOF",$="TOP",P="TNUMBER",B="TSTRING",U="TPAREN",D="TBRACKET",N="TCOMMA",I="TNAME",j="TSEMICOLON";function z(t,r,e){this.type=t,this.value=r,this.index=e}function W(t,r){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=r,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}z.prototype.toString=function(){return this.type+": "+this.value},W.prototype.newToken=function(t,r,e){return new z(t,r,null!=e?e:this.pos)},W.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},W.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},W.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(F,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},W.prototype.isString=function(){var t=!1,r=this.pos,e=this.expression.charAt(r);if("'"===e||'"'===e)for(var n=this.expression.indexOf(e,r+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var s=this.expression.substring(r+1,n);this.current=this.newToken(B,this.unescape(s),r),t=!0;break}n=this.expression.indexOf(e,n+1)}return t},W.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(U,t),this.pos++,!0)},W.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(D,t),this.pos++,!0)},W.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(N,","),this.pos++,!0)},W.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(j,";"),this.pos++,!0)},W.prototype.isConst=function(){for(var t=this.pos,r=t;r<this.expression.length;r++){var e=this.expression.charAt(r);if(e.toUpperCase()===e.toLowerCase()&&(r===this.pos||"_"!==e&&"."!==e&&(e<"0"||e>"9")))break}if(r>t){var n=this.expression.substring(t,r);if(n in this.consts)return this.current=this.newToken(P,this.consts[n]),this.pos+=n.length,!0}return!1},W.prototype.isNamedOp=function(){for(var t=this.pos,r=t;r<this.expression.length;r++){var e=this.expression.charAt(r);if(e.toUpperCase()===e.toLowerCase()&&(r===this.pos||"_"!==e&&(e<"0"||e>"9")))break}if(r>t){var n=this.expression.substring(t,r);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken($,n),this.pos+=n.length,!0}return!1},W.prototype.isName=function(){for(var t=this.pos,r=t,e=!1;r<this.expression.length;r++){var n=this.expression.charAt(r);if(n.toUpperCase()===n.toLowerCase()){if(r===this.pos&&("$"===n||"_"===n)){"_"===n&&(e=!0);continue}if(r===this.pos||!e||"_"!==n&&(n<"0"||n>"9"))break}else e=!0}if(e){var s=this.expression.substring(t,r);return this.current=this.newToken(I,s),this.pos+=s.length,!0}return!1},W.prototype.isWhitespace=function(){for(var t=!1,r=this.expression.charAt(this.pos);!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||(t=!0,this.pos++,this.pos>=this.expression.length));)r=this.expression.charAt(this.pos);return t};var V=/^[0-9a-f]{4}$/i;function q(t,r,e){this.parser=t,this.tokens=r,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==e.allowMemberAccess}W.prototype.unescape=function(t){var r=t.indexOf("\\");if(r<0)return t;for(var e=t.substring(0,r);r>=0;){var n=t.charAt(++r);switch(n){case"'":e+="'";break;case'"':e+='"';break;case"\\":e+="\\";break;case"/":e+="/";break;case"b":e+="\b";break;case"f":e+="\f";break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":var s=t.substring(r+1,r+5);V.test(s)||this.parseError("Illegal escape sequence: \\u"+s),e+=String.fromCharCode(parseInt(s,16)),r+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++r;var i=t.indexOf("\\",r);e+=t.substring(r,i<0?t.length:i),r=i}return e},W.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},W.prototype.isRadixInteger=function(){var t,r,e=this.pos;if(e>=this.expression.length-2||"0"!==this.expression.charAt(e))return!1;if(++e,"x"===this.expression.charAt(e))t=16,r=/^[0-9a-f]$/i,++e;else{if("b"!==this.expression.charAt(e))return!1;t=2,r=/^[01]$/i,++e}for(var n=!1,s=e;e<this.expression.length;){var i=this.expression.charAt(e);if(!r.test(i))break;e++,n=!0}return n&&(this.current=this.newToken(P,parseInt(this.expression.substring(s,e),t)),this.pos=e),n},W.prototype.isNumber=function(){for(var t,r=!1,e=this.pos,n=e,s=e,i=!1,o=!1;e<this.expression.length&&((t=this.expression.charAt(e))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:o=!0,e++,r=o;if(r&&(s=e),"e"===t||"E"===t){e++;for(var a=!0,p=!1;e<this.expression.length;){if(t=this.expression.charAt(e),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;p=!0,a=!1}else a=!1;e++}p||(e=s)}return r?(this.current=this.newToken(P,parseFloat(this.expression.substring(n,e))),this.pos=e):this.pos=s,r},W.prototype.isOperator=function(){var t=this.pos,r=this.expression.charAt(this.pos);if("+"===r||"-"===r||"*"===r||"/"===r||"%"===r||"^"===r||"?"===r||":"===r||"."===r)this.current=this.newToken($,r);else if("∙"===r||"•"===r)this.current=this.newToken($,"*");else if(">"===r)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,">="),this.pos++):this.current=this.newToken($,">");else if("<"===r)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"<="),this.pos++):this.current=this.newToken($,"<");else if("|"===r){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken($,"||"),this.pos++}else if("="===r)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"=="),this.pos++):this.current=this.newToken($,r);else{if("!"!==r)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken($,"!="),this.pos++):this.current=this.newToken($,r)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},W.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},W.prototype.getCoordinates=function(){var t,r=0,e=-1;do{r++,t=this.pos-e,e=this.expression.indexOf("\n",e+1)}while(e>=0&&e<this.pos);return{line:r,column:t}},W.prototype.parseError=function(t){var r=this.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: "+t)},q.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},q.prototype.tokenMatches=function(t,r){return void 0===r||(Array.isArray(r)?S(r,t.value):"function"==typeof r?r(t):t.value===r)},q.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},q.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},q.prototype.accept=function(t,r){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,r))&&(this.next(),!0)},q.prototype.expect=function(t,r){if(!this.accept(t,r)){var e=this.tokens.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: Expected "+(r||t))}},q.prototype.parseAtom=function(t){var r=this.tokens.unaryOps;if(this.accept(I)||this.accept($,(function(t){return t.value in r})))t.push(new g(p,this.current.value));else if(this.accept(P))t.push(new g(s,this.current.value));else if(this.accept(B))t.push(new g(s,this.current.value));else if(this.accept(U,"("))this.parseExpression(t),this.expect(U,")");else{if(!this.accept(D,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(D,"]"))t.push(new g(v,0));else{var e=this.parseArrayList(t);t.push(new g(v,e))}}},q.prototype.parseExpression=function(t){var r=[];this.parseUntilEndStatement(t,r)||(this.parseVariableAssignmentExpression(r),this.parseUntilEndStatement(t,r)||this.pushExpression(t,r))},q.prototype.pushExpression=function(t,r){for(var e=0,n=r.length;e<n;e++)t.push(r[e])},q.prototype.parseUntilEndStatement=function(t,r){return!!this.accept(j)&&(!this.nextToken||this.nextToken.type===F||this.nextToken.type===U&&")"===this.nextToken.value||r.push(new g(y)),this.nextToken.type!==F&&this.parseExpression(r),t.push(new g(l,r)),!0)},q.prototype.parseArrayList=function(t){for(var r=0;!this.accept(D,"]");)for(this.parseExpression(t),++r;this.accept(N);)this.parseExpression(t),++r;return r},q.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept($,"=");){var r=t.pop(),e=[],n=t.length-1;if(r.type!==h){if(r.type!==p&&r.type!==d)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(e),t.push(new g(u,r.value)),t.push(new g(l,e)),t.push(b("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var s=0,i=r.value+1;s<i;s++){var o=n-s;t[o].type===p&&(t[o]=new g(u,t[o].value))}this.parseVariableAssignmentExpression(e),t.push(new g(l,e)),t.push(new g(c,r.value))}}},q.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept($,"?");){var r=[],e=[];this.parseConditionalExpression(r),this.expect($,":"),this.parseConditionalExpression(e),t.push(new g(l,r)),t.push(new g(l,e)),t.push(x("?"))}},q.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept($,"or");){var r=[];this.parseAndExpression(r),t.push(new g(l,r)),t.push(b("or"))}},q.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept($,"and");){var r=[];this.parseComparison(r),t.push(new g(l,r)),t.push(b("and"))}};var G=["==","!=","<","<=",">=",">","in"];q.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept($,G);){var r=this.current;this.parseAddSub(t),t.push(b(r.value))}};var _=["+","-","||"];q.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept($,_);){var r=this.current;this.parseTerm(t),t.push(b(r.value))}};var H=["*","/","%"];function K(t,r){return Number(t)+Number(r)}function X(t,r){return t-r}function Y(t,r){return t*r}function J(t,r){return t/r}function Q(t,r){return t%r}function Z(t,r){return Array.isArray(t)&&Array.isArray(r)?t.concat(r):""+t+r}function tt(t,r){return t===r}function rt(t,r){return t!==r}function et(t,r){return t>r}function nt(t,r){return t<r}function st(t,r){return t>=r}function it(t,r){return t<=r}function ot(t,r){return Boolean(t&&r)}function at(t,r){return Boolean(t||r)}function pt(t,r){return S(r,t)}function ut(t){return(Math.exp(t)-Math.exp(-t))/2}function ht(t){return(Math.exp(t)+Math.exp(-t))/2}function ct(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function lt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function ft(t){return Math.log(t+Math.sqrt(t*t-1))}function dt(t){return Math.log((1+t)/(1-t))/2}function yt(t){return Math.log(t)*Math.LOG10E}function vt(t){return-t}function gt(t){return!t}function wt(t){return t<0?Math.ceil(t):Math.floor(t)}function bt(t){return Math.random()*(t||1)}function xt(t){return Et(t+1)}q.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept($,H);){var r=this.current;this.parseFactor(t),t.push(b(r.value))}},q.prototype.parseFactor=function(t){var r=this.tokens.unaryOps;if(this.save(),this.accept($,(function(t){return t.value in r}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===U&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===j||this.nextToken.type===N||this.nextToken.type===F||this.nextToken.type===U&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var e=this.current;this.parseFactor(t),t.push(w(e.value))}else this.parseExponential(t)},q.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept($,"^");)this.parseFactor(t),t.push(b("^"))},q.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept($,"!");)t.push(w("!"))},q.prototype.parseFunctionCall=function(t){var r=this.tokens.unaryOps;if(this.accept($,(function(t){return t.value in r}))){var e=this.current;this.parseAtom(t),t.push(w(e.value))}else for(this.parseMemberExpression(t);this.accept(U,"(");)if(this.accept(U,")"))t.push(new g(h,0));else{var n=this.parseArgumentList(t);t.push(new g(h,n))}},q.prototype.parseArgumentList=function(t){for(var r=0;!this.accept(U,")");)for(this.parseExpression(t),++r;this.accept(N);)this.parseExpression(t),++r;return r},q.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept($,".")||this.accept(D,"[");){var r=this.current;if("."===r.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(I),t.push(new g(d,this.current.value))}else{if("["!==r.value)throw new Error("unexpected symbol: "+r.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(D,"]"),t.push(b("["))}}};var mt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Et(t){var r,e;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,s=t-1;n>1;)s*=n,n--;return 0===s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Et(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,o=i*t,a=o*t,p=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*o)-571/(2488320*a)+163879/(209018880*p)+5246819/(75246796800*p*t))}--t,e=mt[0];for(var u=1;u<mt.length;++u)e+=mt[u]/(t+u);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*e}function At(t){return Array.isArray(t)?t.length:String(t).length}function kt(){for(var t=0,r=0,e=0;e<arguments.length;e++){var n,s=Math.abs(arguments[e]);r<s?(t=t*(n=r/s)*n+1,r=s):t+=s>0?(n=s/r)*n:s}return r===1/0?1/0:r*Math.sqrt(t)}function Mt(t,r,e){return t?r:e}function Tt(t,r){return void 0===r||0==+r?Math.round(t):(t=+t,r=-+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}function Ot(t,r,e){return e&&(e[t]=r),r}function Ct(t,r){return t[0|r]}function St(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Rt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Lt(t,r){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(r))throw new Error("Second argument to map is not an array");return r.map((function(r,e){return t(r,e)}))}function Ft(t,r,e){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(e))throw new Error("Second argument to fold is not an array");return e.reduce((function(r,e,n){return t(r,e,n)}),r)}function $t(t,r){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(r))throw new Error("Second argument to filter is not an array");return r.filter((function(r,e){return t(r,e)}))}function Pt(t,r){if(!Array.isArray(r)&&"string"!=typeof r)throw new Error("Second argument to indexOf is not a string or array");return r.indexOf(t)}function Bt(t,r){if(!Array.isArray(r))throw new Error("Second argument to join is not an array");return r.join(t)}function Ut(t){return(t>0)-(t<0)||+t}var Dt=1/3;function Nt(t){return t<0?-Math.pow(-t,Dt):Math.pow(t,Dt)}function It(t){return Math.exp(t)-1}function jt(t){return Math.log(1+t)}function zt(t){return Math.log(t)/Math.LN2}function Wt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||ut,cosh:Math.cosh||ht,tanh:Math.tanh||ct,asinh:Math.asinh||lt,acosh:Math.acosh||ft,atanh:Math.atanh||dt,sqrt:Math.sqrt,cbrt:Math.cbrt||Nt,log:Math.log,log2:Math.log2||zt,ln:Math.log,lg:Math.log10||yt,log10:Math.log10||yt,expm1:Math.expm1||It,log1p:Math.log1p||jt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||wt,"-":vt,"+":Number,exp:Math.exp,not:gt,length:At,"!":xt,sign:Math.sign||Ut},this.binaryOps={"+":K,"-":X,"*":Y,"/":J,"%":Q,"^":Math.pow,"||":Z,"==":tt,"!=":rt,">":et,"<":nt,">=":st,"<=":it,and:ot,or:at,in:pt,"=":Ot,"[":Ct},this.ternaryOps={"?":Mt},this.functions={random:bt,fac:xt,min:Rt,max:St,hypot:Math.hypot||kt,pyt:Math.hypot||kt,pow:Math.pow,atan2:Math.atan2,if:Mt,gamma:Et,roundTo:Tt,map:Lt,fold:Ft,filter:$t,indexOf:Pt,join:Bt},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Wt.prototype.parse=function(t){var r=[],e=new q(this,new W(this,t),{allowMemberAccess:this.options.allowMemberAccess});return e.parseExpression(r),e.expect(F,"EOF"),new L(r,this)},Wt.prototype.evaluate=function(t,r){return this.parse(t).evaluate(r)};var Vt=new Wt;Wt.parse=function(t){return Vt.parse(t)},Wt.evaluate=function(t,r){return Vt.parse(t).evaluate(r)};var qt={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Wt.prototype.isOperatorEnabled=function(t){var r=function(t){return qt.hasOwnProperty(t)?qt[t]:t}(t),e=this.options.operators||{};return!(r in e)||!!e[r]};const Gt=/(^|[\s'"`])(?<important>!)?(?<variants>([\w-]+:)*)/gm;function _t(t,r){return r.reduce(((t,r)=>{const e=t[r];if(null==e)throw new Error(`Object has no attribute '${r}'.`);return e}),t)}function Ht(t,e){const n=t[r.SymbolData];return null==n?t[r.SymbolData]={$selector:e}:n.$selector||(t[r.SymbolData].$selector=e),t}function Kt(t){var e;const n=[];for(const s of t){const t=null!==(e=s[r.SymbolData])&&void 0!==e?e:{};n.push(...r.createRules(r.applyVariant(s),t.$selector))}return r.buildRules(r.dedupRules(n))}function Xt(t,r){return new RegExp(t.source+r.source,t.flags)}function Yt(t,n,s){const i=[];if(e.hasKey(t.utilities,n)){const e=_t(t.utilities[n],s);r.isStyleArray(e)?i.push(...e):r.isStyleObject(e)&&i.push(e)}return i}function Jt(t,r,n){return n.map((r=>{if(e.hasKey(t.variants,r))return t.variants[r];throw new Error(`Unrecognizable variant '${r}'.`)})).reduceRight(((t,r)=>r(...t)),r)}function Qt(t,r,e=!1){var n,s,i;const o=t.ident;if(!o)throw new Error(`Unrecognizable utility '${o}'`);return e?{...t,ident:o,props:null!==(s=null===(n=t.props)||void 0===n?void 0:n.split(r.separator).filter(Boolean))&&void 0!==s?s:[],variants:null===(i=t.variants)||void 0===i?void 0:i.split(r.variantSeparator).filter(Boolean),important:null==t.important}:t}const Zt={animate:"animation",delay:"transitionDelay",ease:"transitionTimingFunction",duration:"transitionDuration",transition:t=>r.css({transitionProperty:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),aspect:"aspectRatio",basis:"flexBasis",columns:"columns",flex:"flex",grow:"flexGrow",shrink:"flexShrink",order:"order",object:"objectPosition",opacity:"opacity",bg:{DEFAULT:(t,e)=>"color"===e?n.buildColor("backgroundColor","--w-bg-opacity",t):r.css("position"===e?{backgroundPosition:t}:"length"===e?{backgroundSize:t}:"url"===e||"image"===e?{backgroundImage:t}:{background:t}),opacity:"--w-bg-opacity"},from:n.buildGradientFrom,via:n.buildGradientVia,to:n.buildGradientTo,text:{DEFAULT:(t,e)=>"color"===e?n.buildColor("color","--w-text-opacity",t):r.css({fontSize:t}),opacity:"--w-text-opacity"},accent:"accentColor",cursor:"cursor",caret:"caretColor",blur:t=>r.css({"--w-blur":`blur(${t})`}),brightness:t=>r.css({"--w-brightness":`brightness(${t})`}),contrast:t=>r.css({"--w-contrast":`contrast(${t})`}),drop:{shadow:t=>r.css({"--w-drop-shadow":`opacity(${t})`})},grayscale:t=>r.css({"--w-grayscale":`grayscale(${t})`}),hueRotate:t=>r.css({"--w-hue-rotate":`hue-rotate(${t})`}),invert:t=>r.css({"--w-invert":`invert(${t})`}),sepia:t=>r.css({"--w-sepia":`sepia(${t})`}),saturate:t=>r.css({"--w-saturate":`saturate(${t})`}),backdrop:{blur:t=>r.css({"--w-backdrop-blur":`blur(${t})`}),brightness:t=>r.css({"--w-backdrop-brightness":`brightness(${t})`}),contrast:t=>r.css({"--w-backdrop-contrast":`contrast(${t})`}),grayscale:t=>r.css({"--w-backdrop-grayscale":`grayscale(${t})`}),hueRotate:t=>r.css({"--w-backdrop-hue-rotate":`hue-rotate(${t})`}),invert:t=>r.css({"--w-backdrop-invert":`invert(${t})`}),opacity:t=>r.css({"--w-backdrop-opacity":`opacity(${t})`}),sepia:t=>r.css({"--w-backdrop-sepia":`sepia(${t})`}),saturate:t=>r.css({"--w-backdrop-saturate":`saturate(${t})`})},scale:{DEFAULT:["--w-scale-x","--w-scale-y","--w-scale-z"],x:"--w-scale-x",y:"--w-scale-y",z:"--w-scale-z"},rotate:{DEFAULT:"--w-rotate",x:"--w-rotate-x",y:"--w-rotate-y",z:"--w-rotate-z"},translate:{DEFAULT:["--w-translate-x","--w-translate-y","--w-translate-z"],x:"--w-translate-x",y:"--w-translate-y",z:"--w-translate-z"},skew:{DEFAULT:["--w-skew-x","--w-skew-y"],x:"--w-skew-x",y:"--w-skew-y"},origin:"transformOrigin",scroll:{p:"scrollPadding",px:["scrollPaddingLeft","scrollPaddingRight"],py:["scrollPaddingTop","scrollPaddingBottom"],pt:"scrollPaddingTop",pr:"scrollPaddingRight",pb:"scrollPaddingBottom",pl:"scrollPaddingLeft",m:"scrollMargin",mx:["scrollMarginLeft","scrollMarginRight"],my:["scrollMarginTop","scrollMarginBottom"],mt:"scrollMarginTop",mr:"scrollMarginRight",mb:"scrollMarginBottom",ml:"scrollMarginLeft"},grid:{rows:"gridTemplateRows",cols:"gridTemplateColumns"},row:{DEFAULT:"gridRow",span:t=>r.css({gridRow:`span ${t} / span ${t}`}),start:"gridRowStart",end:"gridRowEnd"},col:{DEFAULT:"gridColumn",span:t=>r.css({gridColumn:`span ${t} / span ${t}`}),start:"gridColumnStart",end:"gridColumnEnd"},inset:{DEFAULT:["top","right","bottom","left"],x:["left","right"],y:["top","bottom"]},gap:{DEFAULT:"gap",x:"columnGap",y:"rowGap"},auto:{rows:"gridAutoRows",cols:"gridAutoColumns"},p:"padding",px:["paddingLeft","paddingRight"],py:["paddingTop","paddingBottom"],pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",m:"margin",mx:["marginLeft","marginRight"],my:["marginTop","marginBottom"],mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",space:{x:n.buildSpaceBetweenX,y:n.buildSpaceBetweenY},w:"width",h:"height",min:{w:"minWidth",h:"minHeight"},max:{w:"maxWidth",h:"maxHeight"},font:(t,e)=>r.css({["number"===e?"fontWeight":"fontFamily"]:t}),tracking:"letterSpacing",leading:"lineHeight",list:"listStyleType",decoration:(t,e)=>r.css({["length"===e?"textDecorationThickness":"textDecorationColor"]:t}),underline:{offset:"textUnderlineOffset"},rounded:{DEFAULT:"borderRadius",t:["borderTopLeftRadius","borderTopRightRadius"],b:["borderBottomRightRadius","borderBottomLeftRadius"],l:["borderTopLeftRadius","borderBottomLeftRadius"],r:["borderTopRightRadius","borderBottomRightRadius"],tl:"borderTopLeftRadius",tr:"borderTopRightRadius",bl:"borderBottomLeftRadius",br:"borderBottomRightRadius"},border:{DEFAULT:(t,e)=>"color"===e?n.buildColor("borderColor","--w-border-opacity",t):r.css({borderWidth:t}),x:(t,r)=>"color"===r?n.buildColor(["borderLeftColor","borderRightColor"],"--w-border-opacity",t):n.buildStatic(["borderLeftWidth","borderRightWidth"],t),y:(t,r)=>"color"===r?n.buildColor(["borderTopColor","borderBottomColor"],"--w-border-opacity",t):n.buildStatic(["borderTopWidth","borderBottomWidth"],t),t:(t,e)=>"color"===e?n.buildColor("borderTopColor","--w-border-opacity",t):r.css({borderTopWidth:t}),r:(t,e)=>"color"===e?n.buildColor("borderRightColor","--w-border-opacity",t):r.css({borderRightWidth:t}),b:(t,e)=>"color"===e?n.buildColor("borderBottomColor","--w-border-opacity",t):r.css({borderBottomWidth:t}),l:(t,e)=>"color"===e?n.buildColor("borderLeftColor","--w-border-opacity",t):r.css({borderLeftWidth:t}),spacing:{DEFAULT:"borderSpacing",x:t=>r.css({borderSpacing:`${t} var(--w-border-spacing-y)`}),y:t=>r.css({borderSpacing:`var(--w-border-spacing-x) ${t}`})},opacity:"--w-border-opacity"},divide:{DEFAULT:n.buildDivideColor,x:n.buildDivideX,y:n.buildDivideY},outline:{DEFAULT:(t,e)=>"color"===e?n.buildColor("outlineColor","--w-outline-opacity",t):r.css({outlineWidth:t}),offset:"outlineOffset",opacity:"--w-outline-opacity"},ring:{DEFAULT:(t,r)=>"color"===r?n.buildColor("--w-ring-color","--w-ring-opacity",t):n.buildRingWidth(t),offset:{DEFAULT:(t,e)=>"color"===e?n.buildColor("--w-ring-offset-color","--w-ring-offset-opacity",t):r.css({"--w-ring-offset-width":t}),opacity:"--w-ring-offset-opacity"},opacity:"--w-ring-opacity"},shadow:{DEFAULT:(t,r)=>"color"===r?n.buildBoxShadowColor(t):n.buildBoxShadowSize(t),opacity:"--w-shadow-color-opacity"},fill:"fill",stroke:(t,e)=>r.css({["length"===e?"strokeWidth":"stroke"]:t}),indent:"textIndent",align:"verticalAlign",content:"content",z:"zIndex",top:"top",right:"right",bottom:"bottom",left:"left",will:{change:"willChange"}},tr=/^((color|string|url|integer|number|dimension|percentage|ratio|flex|resolution|alpha-value|image|position)|((length|frequency|angle|time)(-percentage)?)):/;function rr(t){let r;t=t.replace(/_/g," ");const n=tr.exec(t);return null!=n?(r=n[1],t=t.slice(n[0].length)):e.isSize(t)?r="length":e.isColor(t)?r="color":e.isNumber(t)?r="number":e.isUrl(t)?r="url":e.isPosition(t)?r="position":e.isGradient(t)&&(r="image"),{type:r,value:t}}function er(t,e,n){return"function"==typeof t?t(e,n):Array.isArray(t)?r.css(Object.fromEntries(t.map((t=>[t,e])))):"object"==typeof t?er(t.DEFAULT,e,n):r.css({[t]:e})}return t.BaseRule=Gt,t.Processor=class{constructor(t){this.config=t}extract(t){let e=null;const n=[],s=this.config.extractors.map((t=>t(this.config)));for(const{rule:i,build:o}of s)do{if(e=i.exec(t),e){const t=o(e,e.groups);if(t){const s="."+r.escapeCSS(e[0].replace(/^['"`]/,"").trim());Array.isArray(t)?n.push(...t.map((t=>Ht(t,s)))):n.push(Ht(t,s))}}}while(null!=e);return n}interpret(t){return Kt(this.extract(t))}compile(t,n){const s=this.extract(t);return r.unify("."+(null!=n?n:"windi-"+e.hash(s.map((t=>{var e;return(null!==(e=t[r.SymbolData])&&void 0!==e?e:{}).$selector})).sort().join())),s)}},t.Vm=class extends Wt{constructor(t,r){super(t),this.ctx=null!=r?r:{}}setContext(t){this.ctx=t}parse(t){const r=super.parse("["+t+"]");return Reflect.defineProperty(r,"eval",{value:t=>r.evaluate({...this.ctx,...t})}),r}},t.attributifyExtractor=function(t){var e;return{rule:new RegExp(`(^|\\s)(${(null===(e=t.attributify)||void 0===e?void 0:e.prefix)||""}(?<important>!)?(?<variants>([\\w-]+:)*)(?<ident>\\w+))\\s*=\\s*(["'](?<attrs>.*?)["'])`,"gm"),build:function(e,n={}){var s,i,o,a;const p=null!==(s=n.ident)&&void 0!==s?s:"class",u=null===(i=n.variants)||void 0===i?void 0:i.split(t.variantSeparator).filter(Boolean),h=(null!==(o=n.attrs)&&void 0!==o?o:"").split(" ").filter(Boolean);let c=[];const l=[],f=1===h.length?"=":"~=";for(const d of h)c=null!==(a=d.split(t.separator).filter(Boolean))&&void 0!==a?a:[],l.push(...Yt(t,p,c).map((t=>Ht(t,`[${r.escapeCSS(e[2])}${f}"${d}"]`))));return u?Jt(t,l,u):l}}},t.buildCSS=Kt,t.extendRegex=Xt,t.extractGroup=Qt,t.generateUtilities=Yt,t.generateVariants=Jt,t.getNestedObject=_t,t.parseArbitrary=rr,t.setSelector=Ht,t.styleArbitraryExtractor=function(t){return{rule:Xt(Gt,/\[(?<property>[\w-]+):(?<arbitrary>[^\]\s]+)\](?=[\s'"`]|$)/),build:function(e,n={}){var s;const i=null===(s=n.variants)||void 0===s?void 0:s.split(t.variantSeparator).filter(Boolean),o=n.property,a=n.arbitrary;if(!o)throw new Error("Unexpected empty arbitrary property");if(!a)throw new Error("Unexpected empty arbitrary value");const p=[r.css({[o]:a.replace(/_/g," ")})];return i?Jt(t,p,i):p}}},t.utilityArbitraryExtractor=function(t){return{rule:Xt(Gt,/(?<ident>\w+)(?<props>(-\w+)*)-\[(?<arbitrary>[^\]\s]+)\](?=[\s'"`]|$)/),build:(r,n={})=>{const{ident:s,props:i,variants:o,arbitrary:a}=Qt(n,t,!0);if(!a)throw new Error("Unexpected empty arbitrary value");const p=[];if(e.hasKey(Zt,s)){const t=Zt[s],r="object"==typeof t?_t(t,i):t,{type:e,value:n}=rr(a);p.push(er(r,n,e))}return o?Jt(t,p,o):p}}},t.utilityExtractor=function(t){return{rule:Xt(Gt,/(?<ident>\w+)(?<props>(-\w+)*)(?=[\s'"`]|$)/),build:function(r,e={}){const{ident:n,props:s,variants:i}=Qt(e,t,!0),o=Yt(t,n,s);return i?Jt(t,o,i):o}}},Object.defineProperty(t,"__esModule",{value:!0}),t}({},windijsHelpers,windijsShared,windijsCore);
